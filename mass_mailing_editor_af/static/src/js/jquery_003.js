(function(e){var t=e.ajax,n={},r=[],s=[],o=[];e.ajax=function(e){e=jQuery.extend(e,jQuery.extend({},jQuery.ajaxSettings,e));if(e.isQueueOn){var u=e.port;switch(e.mode){case"abort":return n[u]&&n[u].abort(),n[u]=t.apply(this,arguments);case"queue":var a=e.complete;e.complete=function(){a&&a.apply(this,arguments),jQuery([t]).queue("ajax"+u).length>0?jQuery([t]).dequeue("ajax"+u):o[u]=!1},jQuery([t]).queue("ajax"+u,function(){t(e)}),jQuery([t]).queue("ajax"+u).length==1&&!o[u]&&(o[u]=!0,jQuery([t]).dequeue("ajax"+u));return;case"distinctUrlQueue":var a=e.complete,f=e.url;e.complete=function(){a&&a.apply(this,arguments),jQuery([t]).queue("ajax"+u).length>0?jQuery([t]).dequeue("ajax"+u):o[u]=!1};for(i=0;i<jQuery([t]).queue("ajax"+u).length;i++)jQuery([t]).queue("ajax"+u)[i](1)==f&&jQuery([t]).queue("ajax"+u).splice(i,1);jQuery([t]).queue("ajax"+u,function(n){return n==1?e.url:t(e)}),jQuery([t]).queue("ajax"+u).length==1&&!o[u]&&(o[u]=!0,jQuery([t]).dequeue("ajax"+u));return;case"sync":var l=r.length;r[l]={error:e.error,success:e.success,complete:e.complete,done:!1},s[l]={error:[],success:[],complete:[]},e.error=function(){s[l].error=arguments},e.success=function(){s[l].success=arguments},e.complete=function(){s[l].complete=arguments,r[l].done=!0;if(l==0||!r[l-1])for(var e=l;e<r.length&&r[e].done;e++)r[e].error&&r[e].error.apply(jQuery,s[e].error),r[e].success&&r[e].success.apply(jQuery,s[e].success),r[e].complete&&r[e].complete.apply(jQuery,s[e].complete),r[e]=null,s[e]=null}}}return t.apply(this,arguments)}})(jQuery);